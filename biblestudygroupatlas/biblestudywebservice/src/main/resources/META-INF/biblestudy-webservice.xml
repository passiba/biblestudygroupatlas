<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xmlns:tx="http://www.springframework.org/schema/tx"
     xmlns:aop="http://www.springframework.org/schema/aop"
     xmlns:context="http://www.springframework.org/schema/context"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xmlns:jaxws="http://cxf.apache.org/jaxws"
     xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd
       http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd">
            
   <tx:annotation-driven transaction-manager="transactionManager"/>
  
    <import resource="classpath:META-INF/biblestudy-data-hibernate.xml"/>
  <bean id="IBibleStudyService" class="fi.passiba.biblestudy.BibleStudyServiceImp">
        <property name="translationDao" ref="BibletranslationDAO"/>
        <property name="sectionDao" ref="BooksectionDAO" />
        <property name="bookDAO" ref="BookDAO" />
        <property name="chapterDao" ref="ChapterDAO" />
        <property name="verseDAO" ref="VerseDAO" />
    </bean>
      
   <bean id="IBibleDataMining" class="fi.passiba.biblestudy.services.datamining.BibleDataMiningImp">
        <property name="datasourceDAO" ref="BookDatasouceDAO"/>
        <property name="translationDAO" ref="BibletranslationDAO"/>
        <property name="booksectionDAO" ref="BooksectionDAO"/>
        <property name="bookDAO" ref="BookDAO"/>
        <property name="chapterDAO" ref="ChapterDAO"/>
        <property name="verseDAO" ref="VerseDAO" />
        <property name="chapterVotingDAO" ref="ChapterVotingDAO" />
        <property name="sessionFactory" ref="sessionFactory"/>
    </bean>
     
    <!--cfx webservice -->
    <import resource="classpath:META-INF/cxf/cxf.xml" />
    <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
    <import resource="classpath:META-INF/cxf/cxf-servlet.xml" />
    <context:component-scan base-package="fi.passiba.biblestudy.services.group.*"/>

     <jaxws:endpoint
	  id="bibleStudyGroupFeed" 
	  implementor="fi.passiba.biblestudy.feed.GroupFeedResource"
	  address="/GroupFeed" >
              
              <property naname="groupservice" ref="IGroupServices"/>
      </jaxws:endpoint>


</beans>